# Values for {{ project_name }} â€” {{ environment }} environment
# Generated by ninja-deploy

replicaCount: {{ profile.replicas }}

image:
  repository: {{ project_name }}
  pullPolicy: IfNotPresent
  tag: "latest"

resources:
  requests:
    cpu: {{ profile.cpu_request }}
    memory: {{ profile.memory_request }}
  limits:
    cpu: {{ profile.cpu_limit }}
    memory: {{ profile.memory_limit }}

service:
  type: ClusterIP
  port: 8000

{% if StorageEngine.SQL in engines %}
postgresql:
  enabled: true
  auth:
    postgresPassword: "changeme"
    database: "{{ project_name | replace('-', '_') }}"
  primary:
    persistence:
      size: 8Gi
{% endif %}

{% if StorageEngine.MONGO in engines %}
mongodb:
  enabled: true
  auth:
    rootPassword: "changeme"
    database: "{{ project_name | replace('-', '_') }}"
  persistence:
    size: 8Gi
{% endif %}

{% if StorageEngine.GRAPH in engines %}
neo4j:
  enabled: true
  neo4j:
    password: "changeme"
  volumes:
    data:
      mode: defaultStorageClass
      defaultStorageClass:
        requests:
          storage: 8Gi
{% endif %}

{% if StorageEngine.VECTOR in engines %}
milvus:
  enabled: true
  standalone:
    resources:
      requests:
        cpu: 200m
        memory: 256Mi
{% endif %}
