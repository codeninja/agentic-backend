# AUTO-GENERATED by ninja-codegen â€” DO NOT EDIT
# Re-run `ninjastack sync` to regenerate.
# GraphQL types and resolvers for: {{ entity.name | safe_identifier }}

from __future__ import annotations

from typing import Any
{% if has_uuid %}
from uuid import UUID
{% endif %}
{% if has_datetime %}
from datetime import datetime
{% endif %}
{% if has_date %}
from datetime import date
{% endif %}

import strawberry


@strawberry.type
class {{ entity.name | safe_identifier }}Type:
    """GraphQL type for {{ entity.name | safe_identifier }}."""
{% for field in fields_meta %}
    {{ field.name | safe_identifier }}: {{ field.gql_type }}{% if field.nullable %} | None = None{% endif %}

{% endfor %}


@strawberry.input
class {{ entity.name | safe_identifier }}Input:
    """GraphQL input type for creating/updating {{ entity.name | safe_identifier }}."""
{% for field in fields_meta %}
{% if not field.primary_key %}
    {{ field.name | safe_identifier }}: {{ field.gql_type }}{% if field.nullable %} | None = None{% endif %}

{% endif %}
{% endfor %}


@strawberry.type
class {{ entity.name | safe_identifier }}Query:
    """GraphQL queries for {{ entity.name | safe_identifier }}."""

    @strawberry.field
    def {{ entity.name | safe_identifier | lower }}(self, id: str) -> {{ entity.name | safe_identifier }}Type | None:
        """Get a single {{ entity.name | safe_identifier }} by ID."""
        # TODO: Wire to persistence layer
        raise NotImplementedError("Wire to {{ entity.name | safe_identifier }} repository")

    @strawberry.field
    def {{ entity.name | safe_identifier | lower }}s(self, limit: int = 25, offset: int = 0) -> list[{{ entity.name | safe_identifier }}Type]:
        """List {{ entity.name | safe_identifier }} records."""
        # TODO: Wire to persistence layer
        raise NotImplementedError("Wire to {{ entity.name | safe_identifier }} repository")


@strawberry.type
class {{ entity.name | safe_identifier }}Mutation:
    """GraphQL mutations for {{ entity.name | safe_identifier }}."""

    @strawberry.mutation
    def create_{{ entity.name | safe_identifier | lower }}(self, input: {{ entity.name | safe_identifier }}Input) -> {{ entity.name | safe_identifier }}Type:
        """Create a new {{ entity.name | safe_identifier }}."""
        # TODO: Wire to persistence layer
        raise NotImplementedError("Wire to {{ entity.name | safe_identifier }} repository")

    @strawberry.mutation
    def update_{{ entity.name | safe_identifier | lower }}(self, id: str, input: {{ entity.name | safe_identifier }}Input) -> {{ entity.name | safe_identifier }}Type:
        """Update an existing {{ entity.name | safe_identifier }}."""
        # TODO: Wire to persistence layer
        raise NotImplementedError("Wire to {{ entity.name | safe_identifier }} repository")

    @strawberry.mutation
    def delete_{{ entity.name | safe_identifier | lower }}(self, id: str) -> bool:
        """Delete a {{ entity.name | safe_identifier }} by ID."""
        # TODO: Wire to persistence layer
        raise NotImplementedError("Wire to {{ entity.name | safe_identifier }} repository")
